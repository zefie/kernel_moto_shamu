on init

    # Set up the BFQIO hierarchy
    chmod 0755 /sys/fs/cgroup
    mkdir /sys/fs/cgroup/bfqio 0755 root system
    mount cgroup none /sys/fs/cgroup/bfqio bfqio
    write /sys/fs/cgroup/bfqio/bfqio.ioprio_class 2
    write /sys/fs/cgroup/bfqio/bfqio.ioprio 3
    write /sys/fs/cgroup/bfqio/bfqio.weight 1000
    chown root system /sys/fs/cgroup/bfqio/tasks
    chmod 0666 /sys/fs/cgroup/bfqio/tasks

    # Audio (realtime) <= -16
    mkdir /sys/fs/cgroup/bfqio/rt-audio 0755 root system
    write /sys/fs/cgroup/bfqio/rt-audio/bfqio.ioprio_class 1
    write /sys/fs/cgroup/bfqio/rt-audio/bfqio.ioprio 1
    write /sys/fs/cgroup/bfqio/rt-audio/bfqio.weight 1000
    chown root system /sys/fs/cgroup/bfqio/rt-audio/tasks
    chmod 0666 /sys/fs/cgroup/bfqio/rt-audio/tasks

    # Display (realtime) <= -4
    mkdir /sys/fs/cgroup/bfqio/rt-display 0755 root system
    write /sys/fs/cgroup/bfqio/rt-display/bfqio.ioprio_class 1
    write /sys/fs/cgroup/bfqio/rt-display/bfqio.ioprio 4
    write /sys/fs/cgroup/bfqio/rt-display/bfqio.weight 1000
    chown root system /sys/fs/cgroup/bfqio/rt-display/tasks
    chmod 0666 /sys/fs/cgroup/bfqio/rt-display/tasks

    # Foreground == -2
    mkdir /sys/fs/cgroup/bfqio/fg 0755 root system
    write /sys/fs/cgroup/bfqio/fg/bfqio.ioprio_class 2
    write /sys/fs/cgroup/bfqio/fg/bfqio.ioprio 0
    write /sys/fs/cgroup/bfqio/fg/bfqio.weight 1000
    chown root system /sys/fs/cgroup/bfqio/fg/tasks
    chmod 0666 /sys/fs/cgroup/bfqio/fg/tasks

    # Background >= 10
    mkdir /sys/fs/cgroup/bfqio/bg 0755 root system
    write /sys/fs/cgroup/bfqio/bg/bfqio.ioprio_class 2
    write /sys/fs/cgroup/bfqio/bg/bfqio.ioprio 2
    write /sys/fs/cgroup/bfqio/bg/bfqio.weight 1000
    chown root system /sys/fs/cgroup/bfqio/bg/tasks
    chmod 0666 /sys/fs/cgroup/bfqio/bg/tasks

    # Idle >= 18
    mkdir /sys/fs/cgroup/bfqio/idle 0755 root system
    write /sys/fs/cgroup/bfqio/idle/bfqio.ioprio_class 3
    write /sys/fs/cgroup/bfqio/idle/bfqio.ioprio 3 
    write /sys/fs/cgroup/bfqio/idle/bfqio.weight 1000
    chown root system /sys/fs/cgroup/bfqio/idle/tasks
    chmod 0666 /sys/fs/cgroup/bfqio/idle/tasks


service supolicy /sbin/supolicy --live \
	"allow sensors diag_device chr_file { read write open ioctl }" \
	"allow sensors sensors capability net_raw" \
	"allow init kernel security setenforce"
     disabled
     oneshot

on fs
     start supolicy

on boot
     chown system system /sys/class/leds/charging/brightness
     chown system system /sys/class/leds/charging/max_brightness

service benzo-post-boot /sbin/benzo-post-boot.sh
     class late_start
     user root
     disabled
     oneshot

on property:sys.boot_completed=1
     start benzo-post-boot

on property:dev.bootcomplete=1
	stop mpdecision
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq 2649600
	write /sys/devices/system/cpu/cpu1/cpufreq/scaling_max_freq 2649600
	write /sys/devices/system/cpu/cpu2/cpufreq/scaling_max_freq 2649600
	write /sys/devices/system/cpu/cpu3/cpufreq/scaling_max_freq 2649600
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq 300000
	write /sys/devices/system/cpu/cpu1/cpufreq/scaling_min_freq 300000
	write /sys/devices/system/cpu/cpu2/cpufreq/scaling_min_freq 300000
	write /sys/devices/system/cpu/cpu3/cpufreq/scaling_min_freq 300000
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor conservative
	write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor conservative
	write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor conservative
	write /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor conservative
	write /sys/block/mmcblk0rpmb/queue/scheduler bfq
	write /sys/block/mmcblk0rpmb/queue/read_ahead_kb 1536
